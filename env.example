# UniFi RPC Server Environment Configuration Example
# Copy this file to .env and modify as needed, or export these variables directly

# Server Configuration
export UNIFI_RPC_PORT=5000
export UNIFI_RPC_ADDRESS=0.0.0.0

# UniFi Switch SSH Connection (Required)
export UNIFI_RPC_SWITCH_HOST="10.0.24.136"  # IP address or hostname of your UniFi switch
export UNIFI_RPC_SSH_KEY_PATH="~/.ssh/unifi_rsa"  # Path to SSH private key file

# SSH Configuration (Optional - defaults shown)
export UNIFI_RPC_SSH_PORT=22
export UNIFI_RPC_SSH_USERNAME="root"

# Usage:
# 1. Set up SSH key authentication to your UniFi switch:
#    ssh-keygen -t rsa -b 4096 -f ~/.ssh/unifi_rsa -N ""
#    ssh-copy-id -i ~/.ssh/unifi_rsa.pub root@10.0.24.136
#
# 2. Copy this file: cp env.example .env
# 3. Edit .env with your values
# 4. Source the file: source .env
# 5. Run the server: ./unifi-rpc
#
# Or set environment variables directly:
# UNIFI_RPC_SWITCH_HOST=10.0.24.136 UNIFI_RPC_SSH_KEY_PATH=~/.ssh/unifi_rsa ./unifi-rpc
#
# Example RPC call (requires X-Port header):
# curl -X POST -H "X-Port: 3" -H "Content-Type: application/json" \
#   -d '{"method":"power.get","id":1}' http://localhost:5000/
